(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2a0901dd"],{"1fff":function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return s})),a.d(t,"d",(function(){return r})),a.d(t,"b",(function(){return c}));var i=a("c3cb"),n="/api/recibos",o=function(){return i["a"].get(n)},s=function(e){return i["a"].post(n,e)},r=function(e,t){return i["a"].put(n+"/"+e,t)},c=function(e){return i["a"].delete(n+"/"+e)}},"93d3":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-div",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.desserts,"sort-by":"calories",search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Gestión de recibos")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{"max-width":"550px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-select",{attrs:{items:e.opcionesEstado},model:{value:e.editedItem.estado,callback:function(t){e.$set(e.editedItem,"estado",t)},expression:"editedItem.estado"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancel ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v(" Save ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"550px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v("Estás seguro de querer borrar este recibo?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("Sí")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(i)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(i)}}},[e._v(" mdi-delete ")])]}},{key:"item.estado",fn:function(t){var i=t.item;return[a("v-chip",{attrs:{color:e.getColor(i.estado),dark:""}},[e._v(" "+e._s(i.estado)+" ")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v(" Resetear ")])]},proxy:!0}],null,!0)}),[a("v-snackbar",{attrs:{timeout:e.timeout},scopedSlots:e._u([{key:"action",fn:function(t){var i=t.attrs;return[a("v-btn",e._b({attrs:{color:"blue",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",i,!1),[e._v(" Cerrar ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.textSnackbar)+" ")])]],2)},n=[],o=(a("a434"),a("1fff")),s={data:function(){return{snackbar:!1,textSnackbar:"",timeout:3e3,search:"",select:null,opcionesEstado:["pendiente","cobrado"],dialog:!1,dialogDelete:!1,headers:[{text:"nombre",sortable:!1,value:"nameCliente"},{text:"Apellido",sortable:!1,value:"lastNameCliente"},{text:"documento",sortable:!1,value:"documento"},{text:"Lugar Recogida",sortable:!1,value:"lugarRecogida"},{text:"Fecha Recogida",sortable:!1,value:"fechaRecogida"},{text:"lugar Devolucion",sortable:!1,value:"lugarDevolucion"},{text:"Fecha Entrega",sortable:!1,value:"fechaEntrega"},{text:"Total a pagar",sortable:!1,value:"totalPagar"},{text:"estado",sortable:!1,value:"estado"},{text:"Actions",value:"actions",sortable:!1}],desserts:[],editedIndex:-1,editedItem:{nameCliente:"",lastNameCliente:"",documento:"",lugarRecogida:"",fechaRecogida:"",lugarDevolucion:"",fechaEntrega:"",modeloCarro:"",totalPagar:"",estado:""},defaultItem:{nameCliente:"",lastNameCliente:"",documento:"",lugarRecogida:"",fechaRecogida:"",lugarDevolucion:"",fechaEntrega:"",modeloCarro:"",totalPagar:"",estado:""}}},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Editar Estado del recibo"}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},created:function(){this.initialize()},methods:{getColor:function(e){return"pendiente"===e?"red":"green"},initialize:function(){var e=this;Object(o["c"])().then((function(t){e.desserts=t.data})).catch((function(e){return console.error(e)}))},editItem:function(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(){var e=this;if(this.desserts.splice(this.editedIndex,1),this.closeDelete(),"pendiente"!=this.editedItem.estado){var t=this.editedItem.idRecibo;Object(o["b"])(this.editedItem._id).then((function(){console.log("eliminado de forma definitivamente."),e.textSnackbar="El recibo con código ".concat(t," ha sido eliminado."),e.snackbar=!0})).catch((function(e){return console.error(e)}))}},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.editedIndex>-1?(Object.assign(this.desserts[this.editedIndex],this.editedItem),Object(o["d"])(this.editedItem._id,this.editedItem).then((function(){console.log("actualizado")})).catch((function(e){return console.error(e)}))):this.desserts.push(this.editedItem),this.close()}}},r=s,c=a("2877"),d=a("6544"),l=a.n(d),u=a("8336"),v=a("b0af"),f=a("99d9"),m=a("cc20"),b=a("a523"),h=a("8fea"),g=a("169a"),x=a("ce7e"),p=a("132d"),k=a("0fd9"),I=a("b974"),C=a("2db4"),_=a("2fa4"),D=a("8654"),V=a("71d9"),w=a("2a7f"),T=Object(c["a"])(r,i,n,!1,null,null,null);t["default"]=T.exports;l()(T,{VBtn:u["a"],VCard:v["a"],VCardActions:f["a"],VCardText:f["c"],VCardTitle:f["d"],VChip:m["a"],VContainer:b["a"],VDataTable:h["a"],VDialog:g["a"],VDivider:x["a"],VIcon:p["a"],VRow:k["a"],VSelect:I["a"],VSnackbar:C["a"],VSpacer:_["a"],VTextField:D["a"],VToolbar:V["a"],VToolbarTitle:w["a"]})}}]);
//# sourceMappingURL=chunk-2a0901dd.bd373ff7.js.map